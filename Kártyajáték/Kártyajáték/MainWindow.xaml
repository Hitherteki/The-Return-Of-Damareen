<Window x:Class="OminousMenu.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Ominous"
        WindowStyle="None"
        WindowState="Maximized"
        ResizeMode="NoResize"
        Background="#000"
        Loaded="Window_Loaded">

    <Window.Resources>
        <CubicEase x:Key="EO" EasingMode="EaseOut"/>
        <CubicEase x:Key="EIO" EasingMode="EaseInOut"/>

        <Storyboard x:Key="Intro">
            <DoubleAnimation Storyboard.TargetName="AshMaskStop1"
                             Storyboard.TargetProperty="Offset"
                             From="-0.3" To="1.0" Duration="0:0:5"
                             BeginTime="0:0:1.5"/>
            <DoubleAnimation Storyboard.TargetName="AshMaskStop2"
                             Storyboard.TargetProperty="Offset"
                             From="0.0" To="1.3" Duration="0:0:5"
                             BeginTime="0:0:1.5"/>

            <DoubleAnimation Storyboard.TargetName="TitleMaskStop1"
                             Storyboard.TargetProperty="Offset"
                             From="-0.3" To="1.0" Duration="0:0:5"
                             BeginTime="0:0:1.5"/>
            <DoubleAnimation Storyboard.TargetName="TitleMaskStop2"
                             Storyboard.TargetProperty="Offset"
                             From="0.0" To="1.3" Duration="0:0:5"
                             BeginTime="0:0:1.5"/>

            <DoubleAnimation Storyboard.TargetName="AshMaskTop"
                             Storyboard.TargetProperty="Offset"
                             From="0.4" To="0.0" Duration="0:0:3"
                             BeginTime="0:0:6.5"/>
            <DoubleAnimation Storyboard.TargetName="AshMaskBottom"
                             Storyboard.TargetProperty="Offset"
                             From="0.6" To="1.0" Duration="0:0:3"
                             BeginTime="0:0:6.5"/>

            <DoubleAnimation Storyboard.TargetName="Cover"
                             Storyboard.TargetProperty="Opacity"
                             From="1" To="0" Duration="0:0:3"
                             BeginTime="0:0:6.5"/>

            <DoubleAnimation Storyboard.TargetName="TitlePos"
                             Storyboard.TargetProperty="Y"
                             From="0" To="-280" Duration="0:0:4"
                             BeginTime="0:0:8.5"
                             EasingFunction="{StaticResource EIO}"/>

            <DoubleAnimation Storyboard.TargetName="TitleScale"
                             Storyboard.TargetProperty="ScaleX"
                             From="1.1" To="0.8" Duration="0:0:4"
                             BeginTime="0:0:8.5"
                             EasingFunction="{StaticResource EIO}"/>
            <DoubleAnimation Storyboard.TargetName="TitleScale"
                             Storyboard.TargetProperty="ScaleY"
                             From="1.1" To="0.8" Duration="0:0:4"
                             BeginTime="0:0:8.5"
                             EasingFunction="{StaticResource EIO}"/>

            <DoubleAnimation Storyboard.TargetName="Menu"
                             Storyboard.TargetProperty="Opacity"
                             From="0" To="1" Duration="0:0:2.5"
                             BeginTime="0:0:11.5"/>
            <DoubleAnimation Storyboard.TargetName="MTx"
                             Storyboard.TargetProperty="X"
                             From="-60" To="0" Duration="0:0:2.5"
                             BeginTime="0:0:11.5"
                             EasingFunction="{StaticResource EO}"/>
        </Storyboard>

        <Storyboard x:Key="Outro">
            <DoubleAnimation Storyboard.TargetName="OutCover"
                             Storyboard.TargetProperty="Opacity"
                             From="0" To="1" Duration="0:0:2"/>
            <DoubleAnimation Storyboard.TargetName="DTxt"
                             Storyboard.TargetProperty="Opacity"
                             From="0" To="1" Duration="0:0:1.2"
                             BeginTime="0:0:2.2"/>
            <DoubleAnimation Storyboard.TargetName="DTxt"
                             Storyboard.TargetProperty="Opacity"
                             From="1" To="0" Duration="0:0:1"
                             BeginTime="0:0:5.0"/>
        </Storyboard>

        <Style x:Key="BS" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border CornerRadius="6" Background="{TemplateBinding Background}">
                            <Grid Margin="8,8">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="20"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Ellipse x:Name="Dot" Width="8" Height="8"
                                         VerticalAlignment="Center"
                                         Fill="#B8B8B8" Opacity="0.7"/>
                                <TextBlock x:Name="Lbl" Grid.Column="1"
                                           Margin="12,0,0,0"
                                           VerticalAlignment="Center"
                                           Foreground="#D7D7D7"
                                           FontSize="30"
                                           FontFamily="Palatino Linotype"
                                           Text="{TemplateBinding Content}">
                                    <TextBlock.CacheMode>
                                        <BitmapCache EnableClearType="False" RenderAtScale="1"/>
                                    </TextBlock.CacheMode>
                                    <TextBlock.Effect>
                                        <DropShadowEffect BlurRadius="10" ShadowDepth="0" Color="#000000" Opacity="0.85"/>
                                    </TextBlock.Effect>
                                </TextBlock>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Dot" Property="Fill" Value="#F2E7C9"/>
                                <Setter TargetName="Dot" Property="Opacity" Value="1"/>
                                <Setter TargetName="Lbl" Property="Foreground" Value="#FFF3D6"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="Lbl" Property="Opacity" Value="0.7"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid>
            <Rectangle>
                <Rectangle.Fill>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="#020202" Offset="0"/>
                        <GradientStop Color="#060608" Offset="0.55"/>
                        <GradientStop Color="#000000" Offset="1"/>
                    </LinearGradientBrush>
                </Rectangle.Fill>
            </Rectangle>

            <Canvas IsHitTestVisible="False" Opacity="0.25">
                <Ellipse Width="620" Height="400" Canvas.Left="900" Canvas.Top="100">
                    <Ellipse.CacheMode>
                        <BitmapCache EnableClearType="False" RenderAtScale="1"/>
                    </Ellipse.CacheMode>
                    <Ellipse.Fill>
                        <RadialGradientBrush>
                            <GradientStop Color="#4A4A4A80" Offset="0"/>
                            <GradientStop Color="#00000000" Offset="1"/>
                        </RadialGradientBrush>
                    </Ellipse.Fill>
                    <Ellipse.Effect>
                        <BlurEffect Radius="40"/>
                    </Ellipse.Effect>
                    <Ellipse.RenderTransform>
                        <TranslateTransform x:Name="S1"/>
                    </Ellipse.RenderTransform>
                    <Ellipse.Triggers>
                        <EventTrigger RoutedEvent="FrameworkElement.Loaded">
                            <BeginStoryboard>
                                <Storyboard RepeatBehavior="Forever" AutoReverse="True">
                                    <DoubleAnimation Storyboard.TargetName="S1" Storyboard.TargetProperty="X"
                                                     From="150" To="-300" Duration="0:0:30"/>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Ellipse.Triggers>
                </Ellipse>

                <Ellipse Width="760" Height="480" Canvas.Left="600" Canvas.Top="360" Opacity="0.5">
                    <Ellipse.CacheMode>
                        <BitmapCache EnableClearType="False" RenderAtScale="1"/>
                    </Ellipse.CacheMode>
                    <Ellipse.Fill>
                        <RadialGradientBrush>
                            <GradientStop Color="#3D3D3D70" Offset="0"/>
                            <GradientStop Color="#00000000" Offset="1"/>
                        </RadialGradientBrush>
                    </Ellipse.Fill>
                    <Ellipse.Effect>
                        <BlurEffect Radius="45"/>
                    </Ellipse.Effect>
                    <Ellipse.RenderTransform>
                        <TranslateTransform x:Name="S2"/>
                    </Ellipse.RenderTransform>
                    <Ellipse.Triggers>
                        <EventTrigger RoutedEvent="FrameworkElement.Loaded">
                            <BeginStoryboard>
                                <Storyboard RepeatBehavior="Forever" AutoReverse="True">
                                    <DoubleAnimation Storyboard.TargetName="S2" Storyboard.TargetProperty="X"
                                                     From="90" To="-280" Duration="0:0:40"/>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Ellipse.Triggers>
                </Ellipse>
            </Canvas>

            <Rectangle IsHitTestVisible="False">
                <Rectangle.Fill>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                        <GradientStop Color="#00000000" Offset="0.0"/>
                        <GradientStop Color="#C8B58A50" Offset="0.5"/>
                        <GradientStop Color="#00000000" Offset="1.0"/>
                    </LinearGradientBrush>
                </Rectangle.Fill>
                <Rectangle.RenderTransform>
                    <TranslateTransform x:Name="LS"/>
                </Rectangle.RenderTransform>
                <Rectangle.Triggers>
                    <EventTrigger RoutedEvent="FrameworkElement.Loaded">
                        <BeginStoryboard>
                            <Storyboard RepeatBehavior="Forever" AutoReverse="True">
                                <DoubleAnimation Storyboard.TargetName="LS" Storyboard.TargetProperty="X"
                                                 From="280" To="-280" Duration="0:0:25"/>
                                <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                 From="0.01" To="0.03" Duration="0:0:15"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>
                </Rectangle.Triggers>
            </Rectangle>
        </Grid>

        <Rectangle x:Name="Cover" Fill="Black" Opacity="1" IsHitTestVisible="False"/>

        <Image x:Name="AshImg" IsHitTestVisible="False" Stretch="None" HorizontalAlignment="Left" VerticalAlignment="Top">
            <Image.OpacityMask>
                <DrawingBrush>
                    <DrawingBrush.Drawing>
                        <DrawingGroup>
                            <GeometryDrawing>
                                <GeometryDrawing.Brush>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                        <GradientStop x:Name="AshMaskStop1" Color="White" Offset="-0.3"/>
                                        <GradientStop x:Name="AshMaskStop2" Color="Transparent" Offset="0.0"/>
                                    </LinearGradientBrush>
                                </GeometryDrawing.Brush>
                                <GeometryDrawing.Geometry>
                                    <RectangleGeometry Rect="0,0,10000,10000"/>
                                </GeometryDrawing.Geometry>
                            </GeometryDrawing>
                            <GeometryDrawing>
                                <GeometryDrawing.Brush>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                        <GradientStop Color="Transparent" Offset="0.0"/>
                                        <GradientStop x:Name="AshMaskTop" Color="White" Offset="0.4"/>
                                        <GradientStop x:Name="AshMaskBottom" Color="White" Offset="0.6"/>
                                        <GradientStop Color="Transparent" Offset="1.0"/>
                                    </LinearGradientBrush>
                                </GeometryDrawing.Brush>
                                <GeometryDrawing.Geometry>
                                    <RectangleGeometry Rect="0,0,10000,10000"/>
                                </GeometryDrawing.Geometry>
                            </GeometryDrawing>
                        </DrawingGroup>
                    </DrawingBrush.Drawing>
                </DrawingBrush>
            </Image.OpacityMask>
        </Image>

        <TextBlock x:Name="GameTitle"
                   Text="The Return Of Damareen"
                   Foreground="#E8DCC2"
                   FontFamily="Palatino Linotype"
                   FontSize="65"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Center"
                   IsHitTestVisible="False"
                   RenderTransformOrigin="0.5,0.5">

            <TextBlock.CacheMode>
                <BitmapCache EnableClearType="False" RenderAtScale="1"/>
            </TextBlock.CacheMode>

            <TextBlock.OpacityMask>
                <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                    <GradientStop x:Name="TitleMaskStop1" Color="White" Offset="-0.3"/>
                    <GradientStop x:Name="TitleMaskStop2" Color="Transparent" Offset="0.0"/>
                </LinearGradientBrush>
            </TextBlock.OpacityMask>

            <TextBlock.Effect>
                <DropShadowEffect BlurRadius="25" ShadowDepth="0" Color="#000000" Opacity="0.9"/>
            </TextBlock.Effect>

            <TextBlock.RenderTransform>
                <TransformGroup>
                    <ScaleTransform x:Name="TitleScale" ScaleX="1.1" ScaleY="1.1"/>
                    <TranslateTransform x:Name="TitlePos" Y="0"/>
                </TransformGroup>
            </TextBlock.RenderTransform>
        </TextBlock>

        <StackPanel x:Name="Menu"
                    Opacity="0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    Margin="80,0,0,0">
            <StackPanel.RenderTransform>
                <TranslateTransform x:Name="MTx" X="-60"/>
            </StackPanel.RenderTransform>
            <Button Style="{StaticResource BS}" Content="Játék"    Click="Play_Click"    Margin="0,8"/>
            <Button Style="{StaticResource BS}" Content="Készítők" Click="Credits_Click" Margin="0,8"/>
            <Button Style="{StaticResource BS}" Content="Kilépés"  Click="Exit_Click"    Margin="0,8"/>
        </StackPanel>

        <Rectangle x:Name="OutCover" Fill="Black" Opacity="0" IsHitTestVisible="False"/>
        <TextBlock x:Name="DTxt"
                   Text="MEGHALTÁL"
                   Opacity="0"
                   Foreground="#D8C9A6"
                   FontFamily="Palatino Linotype"
                   FontSize="88"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Center"
                   IsHitTestVisible="False">
            <TextBlock.CacheMode>
                <BitmapCache EnableClearType="False" RenderAtScale="1"/>
            </TextBlock.CacheMode>
            <TextBlock.Effect>
                <DropShadowEffect BlurRadius="30" ShadowDepth="0" Color="#000000" Opacity="1"/>
            </TextBlock.Effect>
        </TextBlock>
    </Grid>
</Window>